# Flexo MMS SysML v2 Microservice

REST/HTTP platform specific model (PSM) for the Systems Modeling API and Services

Generated by OpenAPI Generator 7.9.0.

## Requires

* Kotlin ^1.9.24
* Gradle ^8.3.0

## Build

First, create the gradle wrapper script:

```
gradle wrapper
```

Then, run:

```
./gradlew check assemble
```

This runs all tests and packages the library.


## Running

The server builds as a jar with a main entrypoint. To start the service, run `java -jar ./build/libs/flexo-sysmlv2.jar`.

You may also run in docker:

```
docker build -t org.openmbee.flexo.sysmlv2 .
docker run -p 8080:8080 org.openmbee.flexo.sysmlv2
```

## Features/Implementation Notes

* Supports JSON inputs/outputs, File inputs, and Form inputs (see ktor documentation for more info).
* ~Supports collection formats for query parameters: csv, tsv, ssv, pipes.~
* Some Kotlin and Java types are fully qualified to avoid conflicts with types defined in OpenAPI definitions.

<a id="documentation-for-api-endpoints"></a>
## Documentation for API Endpoints

All URIs are relative to *http://localhost*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*BranchApi* | [**deleteBranchByProjectAndId**](docs/BranchApi.md#deletebranchbyprojectandid) | **DELETE** /projects/{projectId}/branches/{branchId} | Delete branch by project and ID
*BranchApi* | [**getBranchesByProject**](docs/BranchApi.md#getbranchesbyproject) | **GET** /projects/{projectId}/branches | Get branches by project
*BranchApi* | [**getBranchesByProjectAndId**](docs/BranchApi.md#getbranchesbyprojectandid) | **GET** /projects/{projectId}/branches/{branchId} | Get branch by project and ID
*BranchApi* | [**postBranchByProject**](docs/BranchApi.md#postbranchbyproject) | **POST** /projects/{projectId}/branches | Create branch by project
*CommitApi* | [**getChangeByProjectCommitId**](docs/CommitApi.md#getchangebyprojectcommitid) | **GET** /projects/{projectId}/commits/{commitId}/changes/{changeId} | Get change by project, commit and ID
*CommitApi* | [**getChangesByProjectCommit**](docs/CommitApi.md#getchangesbyprojectcommit) | **GET** /projects/{projectId}/commits/{commitId}/changes | Get changes by project and commit
*CommitApi* | [**getCommitByProjectAndId**](docs/CommitApi.md#getcommitbyprojectandid) | **GET** /projects/{projectId}/commits/{commitId} | Get commit by project and ID
*CommitApi* | [**getCommitsByProject**](docs/CommitApi.md#getcommitsbyproject) | **GET** /projects/{projectId}/commits | Get commits by project
*CommitApi* | [**postCommitByProject**](docs/CommitApi.md#postcommitbyproject) | **POST** /projects/{projectId}/commits | Create commit by project
*DiffMergeApi* | [**diff**](docs/DiffMergeApi.md#diff) | **GET** /projects/{projectId}/commits/{compareCommitId}/diff | Diff a base commit and compare commit
*DiffMergeApi* | [**merge**](docs/DiffMergeApi.md#merge) | **POST** /projects/{projectId}/branches/{targetBranchId}/merge | Merge source commit(s) into a target branch
*ElementApi* | [**getElementByProjectCommitId**](docs/ElementApi.md#getelementbyprojectcommitid) | **GET** /projects/{projectId}/commits/{commitId}/elements/{elementId} | Get element by project, commit and ID
*ElementApi* | [**getElementsByProjectCommit**](docs/ElementApi.md#getelementsbyprojectcommit) | **GET** /projects/{projectId}/commits/{commitId}/elements | Get elements by project and commit
*ElementApi* | [**getProjectUsageByProjectCommitElement**](docs/ElementApi.md#getprojectusagebyprojectcommitelement) | **GET** /projects/{projectId}/commits/{commitId}/elements/{elementId}/projectUsage | Get ProjectUsage that originates the provided element
*ElementApi* | [**getRootsByProjectCommit**](docs/ElementApi.md#getrootsbyprojectcommit) | **GET** /projects/{projectId}/commits/{commitId}/roots | Get root elements by project and commit
*MetaApi* | [**getDatatypeById**](docs/MetaApi.md#getdatatypebyid) | **GET** /meta/datatypes/{datatypeId} | Get datatype by ID
*MetaApi* | [**getDatatypes**](docs/MetaApi.md#getdatatypes) | **GET** /meta/datatypes | Get datatypes
*ProjectApi* | [**deleteProjectById**](docs/ProjectApi.md#deleteprojectbyid) | **DELETE** /projects/{projectId} | Delete project by ID
*ProjectApi* | [**getProjectById**](docs/ProjectApi.md#getprojectbyid) | **GET** /projects/{projectId} | Get project by ID
*ProjectApi* | [**getProjects**](docs/ProjectApi.md#getprojects) | **GET** /projects | Get projects
*ProjectApi* | [**postProject**](docs/ProjectApi.md#postproject) | **POST** /projects | Create project
*ProjectApi* | [**putProjectById**](docs/ProjectApi.md#putprojectbyid) | **PUT** /projects/{projectId} | Update project by ID
*QueryApi* | [**deleteQueryByProjectAndId**](docs/QueryApi.md#deletequerybyprojectandid) | **DELETE** /projects/{projectId}/queries/{queryId} | Delete query by project and ID
*QueryApi* | [**getQueriesByProject**](docs/QueryApi.md#getqueriesbyproject) | **GET** /projects/{projectId}/queries | Get queries by project
*QueryApi* | [**getQueryByProjectAndId**](docs/QueryApi.md#getquerybyprojectandid) | **GET** /projects/{projectId}/queries/{queryId} | Get query by project and ID
*QueryApi* | [**getQueryResultsByProjectIdQuery**](docs/QueryApi.md#getqueryresultsbyprojectidquery) | **GET** /projects/{projectId}/query-results | Get query results by project and query definition
*QueryApi* | [**getQueryResultsByProjectIdQueryId**](docs/QueryApi.md#getqueryresultsbyprojectidqueryid) | **GET** /projects/{projectId}/queries/{queryId}/results | Get query results by project and query
*QueryApi* | [**getQueryResultsByProjectIdQueryPost**](docs/QueryApi.md#getqueryresultsbyprojectidquerypost) | **POST** /projects/{projectId}/query-results | Get query results by project and query definition via POST
*QueryApi* | [**postQueryByProject**](docs/QueryApi.md#postquerybyproject) | **POST** /projects/{projectId}/queries | Create query by project
*QueryApi* | [**putQueryByProjectAndId**](docs/QueryApi.md#putquerybyprojectandid) | **PUT** /projects/{projectId}/queries/{queryId} | Update project by project and ID
*RelationshipApi* | [**getRelationshipsByProjectCommitRelatedElement**](docs/RelationshipApi.md#getrelationshipsbyprojectcommitrelatedelement) | **GET** /projects/{projectId}/commits/{commitId}/elements/{relatedElementId}/relationships | Get relationships by project, commit, and related element
*TagApi* | [**deleteTagByProjectAndId**](docs/TagApi.md#deletetagbyprojectandid) | **DELETE** /projects/{projectId}/tags/{tagId} | Delete tag by project and ID
*TagApi* | [**getTagByProjectAndId**](docs/TagApi.md#gettagbyprojectandid) | **GET** /projects/{projectId}/tags/{tagId} | Get tag by project and ID
*TagApi* | [**getTagsByProject**](docs/TagApi.md#gettagsbyproject) | **GET** /projects/{projectId}/tags | Get tags by project
*TagApi* | [**postTagByProject**](docs/TagApi.md#posttagbyproject) | **POST** /projects/{projectId}/tags | Create tag by project



## Stub server origin

The stub server was generated from the [SysML v2 API Services' openapi.json](https://github.com/Systems-Modeling/SysML-v2-API-Services/blob/master/public/docs/openapi.json).

Since the OpenAPI generator attempts to dereference the `$id` key of elements under `components.schema`, this document must be preprocessed to replace these ids with the basename of the URL path. Node.js must be installed to run the preprocess script.

Please note that additional postprocessing was required to get the stub server dependencies updated and fix some escaping issues on the generated server code.

